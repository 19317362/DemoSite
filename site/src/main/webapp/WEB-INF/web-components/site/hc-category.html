<link rel="import" href="/web-components/lib/polymer/polymer.html">
<link rel="import" href="/web-components/blc/data/blc-data.html">

<link rel="import" href="/web-components/site/hc-product.html">

<polymer-element name="hc-category">
	<template>
		<blc-data-category categoryId="{{categoryId}}" category="{{category}}" productLimit="{{pageSize}}" productOffset="{{1 + currentPage * pageSize}}"></blc-data-category>
		
		<h1 id="heading">Viewing {{category.name}} ({{1 + currentPage * pageSize}} - {{(1 + currentPage * pageSize) + pageSize - 2}})</h1>
		
		<ul class="product-list">
			<template repeat="{{product in category.products}}">
				<li>
					<hc-product productId="{{product.id}}"></hc-product>
				</li>
			</template>
		</ul>
		
		
		<!-- Global style -->
		<link rel="stylesheet" href="/css/web-components-global-styles.css">
		<style>
			#heading {
				width: 70%;
				font: bold 20px/24px Helvetica, sans-serif;
				color: #262322;
				float: left;
			}
		</style>
	</template>
	<script>
		Polymer({
			publish: {
				categoryId: {
					value: 1,
					reflect: true
				},
				
				currentPage: {
					value: 0,
					reflect: true
				},
				pageSize: {
					value: 20,
					reflect: true
				}
			}
		
		});
	</script>
</polymer-element>