<div th:classappend="${ruleBuilder != null}? 'rule-builder-complex' : 'rule-builder-simple' ">

    <div th:id="${ruleBuilder.fieldName}"></div>

    <script type="text/javascript" th:inline="javascript">
        /*<![CDATA[*/
        var conditionsArray = Object.prototype.toString.call(conditionsArray) == "[object Array]" ? conditionsArray : [];

        function Conditions() {
            this.containerId = /*[[${ruleBuilder.fieldName}]]*/ {};
            this.fields = /*[[${fw}]]*/ {};
            this.data = /*[[${ruleBuilder.dataWrapper != null}? ${ruleBuilder.dataWrapper} : '[]']]*/ {};
            this.json = [];
            this.json.push(this.fields);
            this.json.push(this.data);
        }

        conditionsArray.push(new Conditions());
        /*]]>*/
    </script>
</div>
